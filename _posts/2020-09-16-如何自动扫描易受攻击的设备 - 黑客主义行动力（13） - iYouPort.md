---
layout: post
title: "如何自动扫描易受攻击的设备 - 黑客主义行动力（13） - iYouPort"
date: 2020-09-16T16:04:28+00:00
author: iYouPort
from: https://www.iyouport.org/%e5%a6%82%e4%bd%95%e8%87%aa%e5%8a%a8%e6%89%ab%e6%8f%8f%e6%98%93%e5%8f%97%e6%94%bb%e5%87%bb%e7%9a%84%e8%ae%be%e5%a4%87%e2%80%8a-%e2%80%8a%e9%bb%91%e5%ae%a2%e4%b8%bb%e4%b9%89%e8%a1%8c%e5%8a%a8%e5%8a%9b/
tags: [ iYouPort ]
categories: [ iYouPort ]
---

<article class="post-14443 post type-post status-publish format-standard has-post-thumbnail hentry category-book-documentary category-knowledge-node category-289 category-54 category-67 tag-cyberattack tag-hacktivist tag-iot tag-security tag-shodan tag-technique tag-technology tag-tools" id="post-14443">
 <header class="entry-header">
  <h1 class="entry-title">
   如何自动扫描易受攻击的设备 - 黑客主义行动力（13）
  </h1>
 </header>
 <div class="entry-meta">
  <span class="byline">
   <a href="https://www.iyouport.org/author/don-evans/" rel="author" title="由McCaffrey发布">
    McCaffrey
   </a>
  </span>
  <span class="cat-links">
   <a href="https://www.iyouport.org/category/book-documentary/" rel="category tag">
    Book &amp; Documentary
   </a>
   ,
   <a href="https://www.iyouport.org/category/knowledge-node/" rel="category tag">
    Knowledge Node
   </a>
   ,
   <a href="https://www.iyouport.org/category/%e6%8a%80%e6%9c%af/" rel="category tag">
    技术
   </a>
   ,
   <a href="https://www.iyouport.org/category/%e6%8a%80%e6%9c%af%e9%98%b2%e8%ba%ab-%e8%87%aa%e6%88%91%e4%bf%9d%e6%8a%a4%e6%96%b9%e6%b3%95/" rel="category tag">
    技术防身/自我保护方法
   </a>
   ,
   <a href="https://www.iyouport.org/category/%e7%bb%99%e8%a1%8c%e5%8a%a8%e8%80%85%e7%9a%84%e6%8a%a4%e8%ba%ab%e7%ac%a6%e5%92%8c%e6%ad%a6%e5%99%a8/" rel="category tag">
    给行动者的护身符和武器
   </a>
  </span>
  <span class="published-on">
   <time class="entry-date published" datetime="2020-09-17T00:04:28+08:00">
    2020年9月17日
   </time>
   <time class="updated" datetime="2020-09-17T00:04:06+08:00">
    2020年9月17日
   </time>
  </span>
  <span class="word-count">
   1 Minute
  </span>
 </div>
 <div class="entry-content">
  <ul>
   <li class="graf graf--p">
    <span style="color: #00ccff;">
     <em>
      <strong>
       黑客军团如何找到邪恶公司的攻击入口？
      </strong>
     </em>
    </span>
   </li>
  </ul>
  <p>
   <img alt="" class="aligncenter size-full wp-image-14444 jetpack-lazy-image" data-lazy-sizes="(max-width: 598px) 100vw, 598px" data-lazy-src="https://i1.wp.com/www.iyouport.org/wp-content/uploads/2020/06/0-2.png?resize=598%2C336&amp;is-pending-load=1#038;ssl=1" data-lazy-srcset="https://i1.wp.com/www.iyouport.org/wp-content/uploads/2020/06/0-2.png?w=598&amp;ssl=1 598w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2020/06/0-2.png?resize=300%2C169&amp;ssl=1 300w" data-recalc-dims="1" height="336" src="https://i1.wp.com/www.iyouport.org/wp-content/uploads/2020/06/0-2.png?resize=598%2C336&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="598"/>
   <noscript>
    <img alt="" class="aligncenter size-full wp-image-14444" data-recalc-dims="1" height="336" sizes="(max-width: 598px) 100vw, 598px" src="https://i1.wp.com/www.iyouport.org/wp-content/uploads/2020/06/0-2.png?resize=598%2C336&amp;ssl=1" srcset="https://i1.wp.com/www.iyouport.org/wp-content/uploads/2020/06/0-2.png?w=598&amp;ssl=1 598w, https://i1.wp.com/www.iyouport.org/wp-content/uploads/2020/06/0-2.png?resize=300%2C169&amp;ssl=1 300w" width="598"/>
   </noscript>
  </p>
  <p class="graf graf--p">
   欢迎回来！
  </p>
  <p class="graf graf--p">
   如果您还没有读过前面的部分，在这里看到：
  </p>
  <ul class="postList">
   <li class="graf graf--li">
    《
    <a class="markup--anchor markup--li-anchor" data-href="https://www.iyouport.org/mr-robot-%e5%a6%82%e4%bd%95%e6%91%a7%e6%af%81%e9%82%aa%e6%81%b6%e5%85%ac%e5%8f%b8%ef%bc%9f-%e9%bb%91%e5%ae%a2%e4%b8%bb%e4%b9%89%e8%a1%8c%e5%8a%a8%e5%8a%9b%ef%bc%881%ef%bc%89/" href="https://www.iyouport.org/mr-robot-%e5%a6%82%e4%bd%95%e6%91%a7%e6%af%81%e9%82%aa%e6%81%b6%e5%85%ac%e5%8f%b8%ef%bc%9f-%e9%bb%91%e5%ae%a2%e4%b8%bb%e4%b9%89%e8%a1%8c%e5%8a%a8%e5%8a%9b%ef%bc%881%ef%bc%89/" rel="noopener noreferrer" target="_blank">
     Mr.Robot 如何摧毁邪恶公司？- 黑客主义行动力（1）
    </a>
    》
   </li>
   <li class="graf graf--li">
    《
    <a class="markup--anchor markup--li-anchor" data-href="https://www.iyouport.org/elliot-%e5%a6%82%e4%bd%95%e9%aa%87%e5%ae%a2%e9%82%aa%e6%81%b6%e5%85%ac%e5%8f%b8%e5%b9%b6%e4%bf%9d%e8%af%81%e6%97%a0%e6%b3%95%e8%a2%ab%e5%8f%8d%e5%90%91%e8%bf%bd%e8%b8%aa%ef%bc%9a%e9%bb%91%e5%ae%a2/" href="https://www.iyouport.org/elliot-%e5%a6%82%e4%bd%95%e9%aa%87%e5%ae%a2%e9%82%aa%e6%81%b6%e5%85%ac%e5%8f%b8%e5%b9%b6%e4%bf%9d%e8%af%81%e6%97%a0%e6%b3%95%e8%a2%ab%e5%8f%8d%e5%90%91%e8%bf%bd%e8%b8%aa%ef%bc%9a%e9%bb%91%e5%ae%a2/" rel="noopener noreferrer" target="_blank">
     Elliot 如何骇客邪恶公司并保证无法被反向追踪：黑客主义行动力（2）
    </a>
    》
   </li>
   <li class="graf graf--li">
    《
    <a class="markup--anchor markup--li-anchor" data-href="https://www.iyouport.org/%e5%a6%82%e4%bd%95%e5%85%a8%e9%9d%a2%e9%97%b4%e8%b0%8d%e4%bb%bb%e4%bd%95%e4%ba%ba%e7%9a%84%e6%99%ba%e8%83%bd%e6%89%8b%e6%9c%ba%e7%a7%81%e5%af%86%e6%b4%bb%e5%8a%a8%e2%80%8a-%e2%80%8a%e9%bb%91%e5%ae%a2/" href="https://www.iyouport.org/%e5%a6%82%e4%bd%95%e5%85%a8%e9%9d%a2%e9%97%b4%e8%b0%8d%e4%bb%bb%e4%bd%95%e4%ba%ba%e7%9a%84%e6%99%ba%e8%83%bd%e6%89%8b%e6%9c%ba%e7%a7%81%e5%af%86%e6%b4%bb%e5%8a%a8%e2%80%8a-%e2%80%8a%e9%bb%91%e5%ae%a2/" rel="noopener noreferrer" target="_blank">
     如何全面间谍任何人的智能手机私密活动 — 黑客主义行动力（3）
    </a>
    》
   </li>
   <li class="graf graf--li">
    《
    <a class="markup--anchor markup--li-anchor" data-href="https://www.iyouport.org/%e5%a6%82%e4%bd%95%e5%9c%a8%e9%9f%b3%e9%a2%91%e6%96%87%e4%bb%b6%e4%b8%ad%e9%9a%90%e8%97%8f%e7%a7%98%e5%af%86%e4%bf%a1%e6%81%af%ef%bc%9a%e9%bb%91%e5%ae%a2%e4%b8%bb%e4%b9%89%e8%a1%8c%e5%8a%a8%e5%8a%9b/" href="https://www.iyouport.org/%e5%a6%82%e4%bd%95%e5%9c%a8%e9%9f%b3%e9%a2%91%e6%96%87%e4%bb%b6%e4%b8%ad%e9%9a%90%e8%97%8f%e7%a7%98%e5%af%86%e4%bf%a1%e6%81%af%ef%bc%9a%e9%bb%91%e5%ae%a2%e4%b8%bb%e4%b9%89%e8%a1%8c%e5%8a%a8%e5%8a%9b/" rel="noopener noreferrer" target="_blank">
     如何在音频文件中隐藏秘密信息：黑客主义行动力（4）
    </a>
    》
   </li>
   <li class="graf graf--li">
    《
    <a class="markup--anchor markup--li-anchor" data-href="https://www.iyouport.org/%e5%a6%82%e4%bd%95%e7%a0%b4%e8%a7%a3%e8%93%9d%e7%89%99%e6%89%93%e5%bc%80%e7%9b%91%e7%8b%b1%e5%a4%a7%e9%97%a8%ef%bc%9a%e9%bb%91%e5%ae%a2%e4%b8%bb%e4%b9%89%e8%a1%8c%e5%8a%a8%e5%8a%9b%ef%bc%885%ef%bc%89/" href="https://www.iyouport.org/%e5%a6%82%e4%bd%95%e7%a0%b4%e8%a7%a3%e8%93%9d%e7%89%99%e6%89%93%e5%bc%80%e7%9b%91%e7%8b%b1%e5%a4%a7%e9%97%a8%ef%bc%9a%e9%bb%91%e5%ae%a2%e4%b8%bb%e4%b9%89%e8%a1%8c%e5%8a%a8%e5%8a%9b%ef%bc%885%ef%bc%89/" rel="noopener noreferrer" target="_blank">
     如何破解蓝牙打开监狱大门：黑客主义行动力（5）
    </a>
    》
   </li>
   <li class="graf graf--li">
    《
    <a class="markup--anchor markup--li-anchor" data-href="https://www.iyouport.org/%e8%9e%8d%e5%8c%96-%e6%89%80%e6%9c%89%e5%80%ba%e5%8a%a1-%e5%a6%82%e4%bd%95%e6%9e%84%e5%bb%ba%e9%bb%91%e5%ae%a2%e6%a0%91%e8%8e%93%e6%b4%be-%e9%bb%91%e5%ae%a2%e4%b8%bb/" href="https://www.iyouport.org/%e8%9e%8d%e5%8c%96-%e6%89%80%e6%9c%89%e5%80%ba%e5%8a%a1-%e5%a6%82%e4%bd%95%e6%9e%84%e5%bb%ba%e9%bb%91%e5%ae%a2%e6%a0%91%e8%8e%93%e6%b4%be-%e9%bb%91%e5%ae%a2%e4%b8%bb/" rel="noopener noreferrer" target="_blank">
     ”融化” 所有债务 ……如何构建黑客树莓派 — 黑客主义行动力（6）
    </a>
    》
   </li>
   <li class="graf graf--li">
    《
    <a class="markup--anchor markup--li-anchor" data-href="https://www.iyouport.org/%e5%85%85%e5%88%86%e4%ba%86%e8%a7%a3%e4%bd%a0%e7%9a%84%e6%94%bb%e5%87%bb%e7%9b%ae%e6%a0%87%ef%bc%9a%e8%bf%9b%e8%a1%8c%e7%94%b5%e5%ad%90%e9%82%ae%e4%bb%b6%e4%be%a6%e6%9f%a5%e7%9a%84%e7%ae%80%e5%8d%95/" href="https://www.iyouport.org/%e5%85%85%e5%88%86%e4%ba%86%e8%a7%a3%e4%bd%a0%e7%9a%84%e6%94%bb%e5%87%bb%e7%9b%ae%e6%a0%87%ef%bc%9a%e8%bf%9b%e8%a1%8c%e7%94%b5%e5%ad%90%e9%82%ae%e4%bb%b6%e4%be%a6%e6%9f%a5%e7%9a%84%e7%ae%80%e5%8d%95/" rel="noopener noreferrer" target="_blank">
     充分了解你的攻击目标：进行电子邮件侦查的简单方法 — 黑客主义行动力（7）
    </a>
    》
   </li>
   <li class="graf graf--li">
    《
    <a class="markup--anchor markup--li-anchor" data-href="https://www.iyouport.org/wp-admin/post.php?post=13081&amp;action=edit" href="https://www.iyouport.org/wp-admin/post.php?post=13081&amp;action=edit" rel="noopener noreferrer" target="_blank">
     如何获取任何人的Wi-Fi密码而无需破解：黑客主义行动力（8）
    </a>
    》
   </li>
   <li class="graf graf--li">
    《
    <a class="markup--anchor markup--li-anchor" data-href="https://www.iyouport.org/%e5%a6%82%e4%bd%95%e5%8f%91%e9%80%81%e6%ac%ba%e9%aa%97%e6%80%a7%e7%9f%ad%e4%bf%a1%ef%bc%9f-%e9%bb%91%e5%ae%a2%e4%b8%bb%e4%b9%89%e8%a1%8c%e5%8a%a8%e5%8a%9b%ef%bc%889%ef%bc%89/" href="https://www.iyouport.org/%e5%a6%82%e4%bd%95%e5%8f%91%e9%80%81%e6%ac%ba%e9%aa%97%e6%80%a7%e7%9f%ad%e4%bf%a1%ef%bc%9f-%e9%bb%91%e5%ae%a2%e4%b8%bb%e4%b9%89%e8%a1%8c%e5%8a%a8%e5%8a%9b%ef%bc%889%ef%bc%89/" rel="noopener noreferrer" target="_blank">
     如何发送欺骗性短信？- 黑客主义行动力（9）
    </a>
    》
   </li>
   <li class="graf graf--li">
    《
    <a class="markup--anchor markup--li-anchor" data-href="https://www.iyouport.org/%e5%a6%82%e4%bd%95%e5%85%a5%e4%be%b5%e7%9b%ae%e6%a0%87%e7%9a%84%e7%94%b5%e5%ad%90%e9%82%ae%e4%bb%b6%e5%92%8c%e9%93%b6%e8%a1%8c%e8%b4%a6%e6%88%b7%ef%bc%9a%e9%bb%91%e5%ae%a2%e4%b8%bb%e4%b9%89%e8%a1%8c/" href="https://www.iyouport.org/%e5%a6%82%e4%bd%95%e5%85%a5%e4%be%b5%e7%9b%ae%e6%a0%87%e7%9a%84%e7%94%b5%e5%ad%90%e9%82%ae%e4%bb%b6%e5%92%8c%e9%93%b6%e8%a1%8c%e8%b4%a6%e6%88%b7%ef%bc%9a%e9%bb%91%e5%ae%a2%e4%b8%bb%e4%b9%89%e8%a1%8c/" rel="noopener noreferrer" target="_blank">
     如何入侵目标的电子邮件和银行账户：黑客主义行动力（10）
    </a>
    》
   </li>
   <li class="graf graf--li">
    《
    <a class="markup--anchor markup--li-anchor" data-href="https://www.iyouport.org/%e5%a6%82%e4%bd%95%e9%bb%91%e5%85%a5%e6%b1%bd%e8%bd%a6%ef%bc%9a%e9%bb%91%e5%ae%a2%e4%b8%bb%e4%b9%89%e8%a1%8c%e5%8a%a8%e5%8a%9b%ef%bc%8811%ef%bc%89/" href="https://www.iyouport.org/%e5%a6%82%e4%bd%95%e9%bb%91%e5%85%a5%e6%b1%bd%e8%bd%a6%ef%bc%9a%e9%bb%91%e5%ae%a2%e4%b8%bb%e4%b9%89%e8%a1%8c%e5%8a%a8%e5%8a%9b%ef%bc%8811%ef%bc%89/" rel="noopener noreferrer" target="_blank">
     如何黑入汽车：黑客主义行动力（11）
    </a>
    》
   </li>
   <li class="graf graf--li">
    《
    <a class="markup--anchor markup--li-anchor" data-href="https://www.iyouport.org/%e5%a6%82%e4%bd%95%e6%8e%a7%e5%88%b6%e7%9b%ae%e6%a0%87%e4%ba%ba%e7%9a%84%e5%ae%89%e5%8d%93%e6%89%8b%e6%9c%ba%ef%bc%9a%e9%bb%91%e5%ae%a2%e4%b8%bb%e4%b9%89%e8%a1%8c%e5%8a%a8%e5%8a%9b%ef%bc%8812%ef%bc%89/" href="https://www.iyouport.org/%e5%a6%82%e4%bd%95%e6%8e%a7%e5%88%b6%e7%9b%ae%e6%a0%87%e4%ba%ba%e7%9a%84%e5%ae%89%e5%8d%93%e6%89%8b%e6%9c%ba%ef%bc%9a%e9%bb%91%e5%ae%a2%e4%b8%bb%e4%b9%89%e8%a1%8c%e5%8a%a8%e5%8a%9b%ef%bc%8812%ef%bc%89/" rel="noopener noreferrer" target="_blank">
     如何控制目标人的安卓手机：黑客主义行动力（12）
    </a>
    》
   </li>
  </ul>
  <p class="graf graf--p">
   对 Shodan 的介绍已经很多，比如这里《
   <a class="markup--anchor markup--p-anchor" data-href="https://www.iyouport.org/%e6%90%9c%e8%bf%9c%e7%a8%8b%e6%a1%8c%e9%9d%a2%e3%80%81%e6%91%84%e5%83%8f%e5%a4%b4%e3%80%81%e6%89%93%e5%8d%b0%e6%9c%ba%e3%80%81%e5%ae%b6%e7%94%a8%e8%ae%be%e5%a4%87-%e7%ad%89%e4%b8%80%e5%88%87/" href="https://www.iyouport.org/%e6%90%9c%e8%bf%9c%e7%a8%8b%e6%a1%8c%e9%9d%a2%e3%80%81%e6%91%84%e5%83%8f%e5%a4%b4%e3%80%81%e6%89%93%e5%8d%b0%e6%9c%ba%e3%80%81%e5%ae%b6%e7%94%a8%e8%ae%be%e5%a4%87-%e7%ad%89%e4%b8%80%e5%88%87/" rel="noopener noreferrer" target="_blank">
    搜远程桌面、摄像头、打印机、家用设备 … 等一切的超级Shodan搜索：恐怖指南
   </a>
   》，以及下面这本书。
  </p>
  <figure class="graf graf--figure">
   <img class="graf-image jetpack-lazy-image" data-height="1270" data-image-id="1*4WFesIDYOjyFeJOsijolBQ.png" data-lazy-src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/1*4WFesIDYOjyFeJOsijolBQ.png?w=1100&amp;is-pending-load=1#038;ssl=1" data-recalc-dims="1" data-width="1264" src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/1*4WFesIDYOjyFeJOsijolBQ.png?w=1100&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
   <noscript>
    <img class="graf-image" data-height="1270" data-image-id="1*4WFesIDYOjyFeJOsijolBQ.png" data-recalc-dims="1" data-width="1264" src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/1*4WFesIDYOjyFeJOsijolBQ.png?w=1100&amp;ssl=1"/>
   </noscript>
  </figure>
  <p class="graf graf--p">
   <span style="color: #ff6600;">
    这本书在这里下载
   </span>
   ：
   <a class="markup--anchor markup--p-anchor" data-href="https://www.patreon.com/posts/xiao-e-mo-wan-38190098" href="https://www.patreon.com/posts/xiao-e-mo-wan-38190098" rel="nofollow noopener noreferrer" target="_blank">
    https://www.patreon.com/posts/xiao-e-mo-wan-38190098
   </a>
  </p>
  <p class="graf graf--p">
   由于连接到互联网的众多设备具有不同的安全级别，因此该搜索引擎的特殊功能意味着它可以提供渗透测试和攻击的目标设备列表。
  </p>
  <p class="graf graf--p">
   这份教程将使用 Python 定位特定的软件漏洞，并从 Shodan 中提取易受攻击的目标IP地址。
  </p>
  <p class="graf graf--p">
   任何连接到互联网的设备都必须透露一些关于自身的信息。这可能是相对有限的，聪明的系统配置可以阻止大多数不受欢迎的请求。在一些设备上也许可以通过扫描端口以揭示诸如在网络服务器上运行的服务或连接到无线网络的网络摄像头的名称。
  </p>
  <p class="graf graf--p">
   在 Mr. Robot 第3季第1集中，主人公为了收集邪恶公司的信息，使用 Shodan 搜索引擎。Tyrell 和 Angela 在他的身边，目不转睛地看着 Elliot 的影子人格 Mr.Robot 进行 “Apache Tomcat” 的搜索。
  </p>
  <figure class="graf graf--figure">
   <img class="graf-image jetpack-lazy-image" data-height="268" data-image-id="0*Gnp9vwXY_AhNNSMf.gif" data-lazy-src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/0*Gnp9vwXY_AhNNSMf.gif?w=1100&amp;is-pending-load=1#038;ssl=1" data-recalc-dims="1" data-width="480" src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/0*Gnp9vwXY_AhNNSMf.gif?w=1100&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
   <noscript>
    <img class="graf-image" data-height="268" data-image-id="0*Gnp9vwXY_AhNNSMf.gif" data-recalc-dims="1" data-width="480" src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/0*Gnp9vwXY_AhNNSMf.gif?w=1100&amp;ssl=1"/>
   </noscript>
  </figure>
  <p class="graf graf--p">
   这种搜索可以揭示潜在目标的基本信息。利用同样的技术，我们来看看使用 Shodan 的搜索功能到底能找到什么，以及如何利用它来执行黑客攻击。
  </p>
  <h3 class="graf graf--p">
   <strong class="markup--strong markup--p-strong">
    步骤1：使用Shodan
   </strong>
  </h3>
  <p class="graf graf--p">
   可以像大多数其他搜索引擎一样，通过在Web浏览器中导航到 shodan.io 来访问 Shodan。
  </p>
  <figure class="graf graf--figure">
   <img class="graf-image jetpack-lazy-image" data-height="602" data-image-id="0*ghO2Q1mX8kU5Y6e6.jpg" data-lazy-src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/0*ghO2Q1mX8kU5Y6e6.jpg?w=1100&amp;is-pending-load=1#038;ssl=1" data-recalc-dims="1" data-width="1095" src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/0*ghO2Q1mX8kU5Y6e6.jpg?w=1100&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
   <noscript>
    <img class="graf-image" data-height="602" data-image-id="0*ghO2Q1mX8kU5Y6e6.jpg" data-recalc-dims="1" data-width="1095" src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/0*ghO2Q1mX8kU5Y6e6.jpg?w=1100&amp;ssl=1"/>
   </noscript>
  </figure>
  <p class="graf graf--p">
   但是与普通的搜索引擎不同，在使用 Shodan 时通常会寻找设备的header信息，或者除了设备的 HTTPWeb 内容之外的其他信息，通过传统搜索引擎找不到的那些东西。
  </p>
  <p class="graf graf--p">
   在 Mr. Robot 中，主人公使用的搜索是这样的：
  </p>
  <pre class="graf graf--pre"><code>org:"Evil Corp" product:"Apache Tomcat"</code></pre>
  <p class="graf graf--p">
   由于这个邪恶公司 Evil Corp 是虚拟的，于是如果您使用完全相同的搜索也许不会返回任何内容（
   <a class="markup--anchor markup--p-anchor" data-href="https://www.reddit.com/r/MrRobot/comments/75ube7/went_to_shodanio_made_an_account_and_looked_up/" href="https://www.reddit.com/r/MrRobot/comments/75ube7/went_to_shodanio_made_an_account_and_looked_up/" rel="noopener noreferrer" target="_blank">
    有人居然说返回了内容
   </a>
   ！）
  </p>
  <p class="graf graf--p">
   搜索字符串的第二个部分，即 “product” 过滤器仍然是功能强大且有用的搜索。该选项仅适用于注册用户。可以通过单击主页右上方的 “登录/注册” 按钮或直接访问
   <a class="markup--anchor markup--p-anchor" data-href="https://account.shodan.io/register" href="https://account.shodan.io/register" rel="noopener noreferrer" target="_blank">
    account.shodan.io/register
   </a>
   来注册 Shodan 帐户。
  </p>
  <figure class="graf graf--figure">
   <img class="graf-image jetpack-lazy-image" data-height="643" data-image-id="0*DVSnKM0h48DdCs_a.jpg" data-lazy-src="https://i1.wp.com/cdn-images-1.medium.com/max/1067/0*DVSnKM0h48DdCs_a.jpg?w=1100&amp;is-pending-load=1#038;ssl=1" data-recalc-dims="1" data-width="932" src="https://i1.wp.com/cdn-images-1.medium.com/max/1067/0*DVSnKM0h48DdCs_a.jpg?w=1100&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
   <noscript>
    <img class="graf-image" data-height="643" data-image-id="0*DVSnKM0h48DdCs_a.jpg" data-recalc-dims="1" data-width="932" src="https://i1.wp.com/cdn-images-1.medium.com/max/1067/0*DVSnKM0h48DdCs_a.jpg?w=1100&amp;ssl=1"/>
   </noscript>
  </figure>
  <p class="graf graf--p">
   注册 Shodan 帐户后它将提供许多其他搜索功能。比如下面这些过滤器：
  </p>
  <ul class="postList">
   <li class="graf graf--li">
    country：搜索指定的国家
   </li>
   <li class="graf graf--li">
    city：搜索指定的城市
   </li>
   <li class="graf graf--li">
    geo：搜索指定的地理位置，参数为经纬度
   </li>
   <li class="graf graf--li">
    net：搜索指定的IP地址或子网
   </li>
   <li class="graf graf--li">
    os：基于操作系统的过滤器
   </li>
   <li class="graf graf--li">
    port：搜索指定的端口或服务
   </li>
  </ul>
  <p class="graf graf--p">
   可以使用与 Mr.Robot 示例中相同的格式来应用这些过滤器，就包含在搜索中，后跟冒号和搜索项。下面是一个格式，可用于 Shodan 中可用的任何过滤器。
  </p>
  <pre class="graf graf--pre"><code>filter:"Keyword"</code></pre>
  <p class="graf graf--p">
   在此示例中，“filter” 就是所使用过滤器的名称，“Keyword” 就是在此过滤器类别内搜寻的搜索词。
   <strong class="markup--strong markup--p-strong">
    可以应用多个过滤器，只需要用空格隔开即可
   </strong>
   。
  </p>
  <p class="graf graf--p">
   如图所示，“ Apache Tomcat” 搜索在 Shodan 上使用时确实会返回结果。您可以通过搜索下面这个例子进行测试。
  </p>
  <pre class="graf graf--pre"><code>product:"Apache Tomcat"</code></pre>
  <figure class="graf graf--figure">
   <img class="graf-image jetpack-lazy-image" data-height="691" data-image-id="0*rJBR-0EhYMZUBqHt.jpg" data-lazy-src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/0*rJBR-0EhYMZUBqHt.jpg?w=1100&amp;is-pending-load=1#038;ssl=1" data-recalc-dims="1" data-width="895" src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/0*rJBR-0EhYMZUBqHt.jpg?w=1100&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
   <noscript>
    <img class="graf-image" data-height="691" data-image-id="0*rJBR-0EhYMZUBqHt.jpg" data-recalc-dims="1" data-width="895" src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/0*rJBR-0EhYMZUBqHt.jpg?w=1100&amp;ssl=1"/>
   </noscript>
  </figure>
  <p class="graf graf--p">
   您可以看到返回了超过140万个结果。该搜索提供了一些有关使用 Apache Tomcat 的位置和组织的有趣数据，但是对于黑客来说，这些结果可能具有不同的效用。
  </p>
  <p class="graf graf--p">
   攻击者会专门搜索服务器或使用具有已知漏洞的过期软件的联网设备，以便
   <strong class="markup--strong markup--p-strong">
    找到可利用的攻击点
   </strong>
   。这个过程可以像 Mr.Robot 那样手动完成，也可以通过使用脚本语言和 Shodan 的API来
   <strong class="markup--strong markup--p-strong">
    实现自动化
   </strong>
   。
  </p>
  <h3 class="graf graf--p">
   <strong class="markup--strong markup--p-strong">
    步骤2：检索 Shodan API 密钥
   </strong>
  </h3>
  <p class="graf graf--p">
   为了使用 Shodan 的API在绕过 Web 界面的同时直接请求和接收数据，您需要使用API密钥。此API密钥可以通过导航到 Shodan 网站 “我的账户” 部分进行检索，链接在主页的右上角，或者打开
   <a class="markup--anchor markup--p-anchor" data-href="https://account.shodan.io/" href="https://account.shodan.io/" rel="noopener noreferrer" target="_blank">
    account.shodan.io
   </a>
   即可。
  </p>
  <figure class="graf graf--figure">
   <img class="graf-image jetpack-lazy-image" data-height="693" data-image-id="0*WiOd_s3QAbDiTRDJ.jpg" data-lazy-src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/0*WiOd_s3QAbDiTRDJ.jpg?w=1100&amp;is-pending-load=1#038;ssl=1" data-recalc-dims="1" data-width="858" src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/0*WiOd_s3QAbDiTRDJ.jpg?w=1100&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
   <noscript>
    <img class="graf-image" data-height="693" data-image-id="0*WiOd_s3QAbDiTRDJ.jpg" data-recalc-dims="1" data-width="858" src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/0*WiOd_s3QAbDiTRDJ.jpg?w=1100&amp;ssl=1"/>
   </noscript>
  </figure>
  <p class="graf graf--p">
   这个密钥将被插入到用于进行API调用的 Python 代码中，所以将其复制到剪贴板、或将其保存到文件，可能会很有用。
  </p>
  <h3 class="graf graf--p">
   <strong class="markup--strong markup--p-strong">
    步骤3：使用 Python 调用 Shodan API
   </strong>
  </h3>
  <p class="graf graf--p">
   为了使用 Python 来请求 Shodan API，需要安装一个功能性 Python 环境以及 Shodan Python 模块。
  </p>
  <p class="graf graf--p">
   本示例使用了 Python 2.7。Python 3 也可以使用该模块，但是需要对本教程显示的脚本进行一些语法更改。在基于 Debian 的 Linux 操作系统上，可以通过打开终端模拟器并运行下面的命令来安装 Python 2.7。
  </p>
  <pre class="graf graf--pre"><code>~$ sudo apt-get update &amp;&amp; sudo apt-get install python2.7</code></pre>
  <figure class="graf graf--figure">
   <img class="graf-image jetpack-lazy-image" data-height="148" data-image-id="0*ZG6fiuHPJwPHI9SN.jpg" data-lazy-src="https://i1.wp.com/cdn-images-1.medium.com/max/1067/0*ZG6fiuHPJwPHI9SN.jpg?w=1100&amp;is-pending-load=1#038;ssl=1" data-recalc-dims="1" data-width="794" src="https://i1.wp.com/cdn-images-1.medium.com/max/1067/0*ZG6fiuHPJwPHI9SN.jpg?w=1100&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
   <noscript>
    <img class="graf-image" data-height="148" data-image-id="0*ZG6fiuHPJwPHI9SN.jpg" data-recalc-dims="1" data-width="794" src="https://i1.wp.com/cdn-images-1.medium.com/max/1067/0*ZG6fiuHPJwPHI9SN.jpg?w=1100&amp;ssl=1"/>
   </noscript>
  </figure>
  <p class="graf graf--p">
   安装 Python 后也可以安装 Shodan Python 模块。可以使用
   <strong class="markup--strong markup--p-strong">
    pip
   </strong>
   或使用 “
   <a class="markup--anchor markup--p-anchor" data-href="https://svn.python.org/projects/sandbox/branches/setuptools-0.6/EasyInstall.txt" href="https://svn.python.org/projects/sandbox/branches/setuptools-0.6/EasyInstall.txt" rel="noopener noreferrer" target="_blank">
    简易安装
   </a>
   ”。下面的命令旨在使用
   <strong class="markup--strong markup--p-strong">
    apt-get
   </strong>
   安装 Pip 。
  </p>
  <pre class="graf graf--pre"><code>~$ sudo apt-get install python-pip</code></pre>
  <p class="graf graf--p">
   安装 pip 之后，可以使用 pip 来安装 Shodan Python 模块。
  </p>
  <pre class="graf graf--pre"><code>~$ sudo pip install shodan</code></pre>
  <p class="graf graf--p">
   如果您的设备上存在多个版本的 Python，并且可能存在多个 pip 版本，则可能需要使用以下命令来指定要安装的 Python 2.7 模块。
  </p>
  <pre class="graf graf--pre"><code>~$ sudo pip2.7 install shodan</code></pre>
  <p class="graf graf--p">
   如果上述这些都不成功，还可以通过运行下面的命令来安装该库。
  </p>
  <pre class="graf graf--pre"><code>~$ easy_install shodan</code></pre>
  <p class="graf graf--p">
   安装了 Python 和 Shodan库之后就可以开始编写一个新的 Python 脚本。在 Linux 命令行中，创建一个新文件并使用
   <strong class="markup--strong markup--p-strong">
    nano
   </strong>
   开始编辑它。
  </p>
  <p class="graf graf--p">
   一定要选择 “shodan”
   <strong class="markup--strong markup--p-strong">
    以外的
   </strong>
   文件名，这样在引用库和脚本之间不会造成冲突。下面创建一个名为 “search.py” 的文件。
  </p>
  <pre class="graf graf--pre"><code>~$ nano search.py</code></pre>
  <p class="graf graf--p">
   要添加到这个文件中的第一件事是一个将加载 Shodan 库的行。可以使用 Python 的
   <strong class="markup--strong markup--p-strong">
    import
   </strong>
   来实现，如下所示。
  </p>
  <pre class="graf graf--pre"><code><span style="color: #3366ff;">import</span> shodan</code></pre>
  <p class="graf graf--p">
   接下来开始定义您的 Shodan API 密钥，以便脚本可以使用它来进行API查询。添加以下行来执行此操作。
  </p>
  <pre class="graf graf--pre"><code class="markup--code markup--pre-code">SHODAN_API_KEY = "<span style="color: #ff6600;">insert your API key here</span>"

api = shodan.<span style="color: #3366ff;">Shodan</span>(SHODAN_API_KEY)</code></pre>
  <p class="graf graf--p">
   用您从 Shodan 网站检索到的API密钥替换 “在此处插入您的API密钥” 字段，留下引号将字段包含在内。
  </p>
  <figure class="graf graf--figure">
   <img class="graf-image jetpack-lazy-image" data-height="262" data-image-id="0*mNc_iDd7met04TKW.jpg" data-lazy-src="https://i0.wp.com/cdn-images-1.medium.com/max/1067/0*mNc_iDd7met04TKW.jpg?w=1100&amp;is-pending-load=1#038;ssl=1" data-recalc-dims="1" data-width="916" src="https://i0.wp.com/cdn-images-1.medium.com/max/1067/0*mNc_iDd7met04TKW.jpg?w=1100&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
   <noscript>
    <img class="graf-image" data-height="262" data-image-id="0*mNc_iDd7met04TKW.jpg" data-recalc-dims="1" data-width="916" src="https://i0.wp.com/cdn-images-1.medium.com/max/1067/0*mNc_iDd7met04TKW.jpg?w=1100&amp;ssl=1"/>
   </noscript>
  </figure>
  <p class="graf graf--p">
   接下来可以使用
   <strong class="markup--strong markup--p-strong">
    try
   </strong>
   声明来定义脚本应该尝试的内容。可以添加一个使用 Shodan API 的
   <strong class="markup--strong markup--p-strong">
    api.search
   </strong>
   单元来实际请求搜索结果的命令。
  </p>
  <pre class="graf graf--pre"><code class="markup--code markup--pre-code"><span style="color: #3366ff;">try</span>:
        <span style="color: #339966;"># Search Shodan</span>
        results = api.<span style="color: #3366ff;">search</span>('<span style="color: #ff6600;">apache</span>')</code></pre>
  <p class="graf graf--p">
   本示例中搜索字符串只是简单的
   <strong class="markup--strong markup--p-strong">
    apache
   </strong>
   ，您可以用任何需要的搜索替换它，包括带有过滤器的搜索，比如上述那样。可以使用下面代码末尾附近显示的一组打印命令来返回此搜索的结果。
  </p>
  <pre class="graf graf--pre"><code class="markup--code markup--pre-code"><span style="color: #339966;"># Show the results</span>
<span style="color: #ffcc00;">print</span> <span style="color: #ff6600;">'Results found:</span> %s' % results<span style="color: #ff6600;">'total'</span>
<span style="color: #3366ff;">for</span> result <span style="color: #3366ff;">in</span> results<span style="color: #ff6600;">'matches'</span>:
<span style="color: #ffcc00;">print</span> 'IP: %s' % result'ip_str'
<span style="color: #ffcc00;">print</span> result<span style="color: #ff6600;">'data'</span>
<span style="color: #ffcc00;">print</span> <span style="color: #ff6600;">''</span>
<span style="color: #3366ff;">except</span> shodan.<span style="color: #3366ff;">APIError</span>, e:
print 'Error: %s' % e</code></pre>
  <p class="graf graf--p">
   该脚本现在应该与下面图中所显示的代码类似。有关 Shodan API 和此代码的更多信息，请参阅
   <a class="markup--anchor markup--p-anchor" data-href="https://shodan.readthedocs.io/en/latest/tutorial.html" href="https://shodan.readthedocs.io/en/latest/tutorial.html" rel="noopener noreferrer" target="_blank">
    其文档页面
   </a>
   。
  </p>
  <figure class="graf graf--figure">
   <img class="graf-image jetpack-lazy-image" data-height="543" data-image-id="0*7ehbpOcVKjXJGkER.jpg" data-lazy-src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/0*7ehbpOcVKjXJGkER.jpg?w=1100&amp;is-pending-load=1#038;ssl=1" data-recalc-dims="1" data-width="923" src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/0*7ehbpOcVKjXJGkER.jpg?w=1100&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
   <noscript>
    <img class="graf-image" data-height="543" data-image-id="0*7ehbpOcVKjXJGkER.jpg" data-recalc-dims="1" data-width="923" src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/0*7ehbpOcVKjXJGkER.jpg?w=1100&amp;ssl=1"/>
   </noscript>
  </figure>
  <p class="graf graf--p">
   该脚本现在可以保存和测试。在 nano 中，可以用 Ctrl + O 保存脚本，用 Ctrl + X 退出 nano 。在同一个目录下，可以使用下面的命令来运行脚本。
  </p>
  <pre class="graf graf--pre"><code>~$ python2 script.py</code></pre>
  <p class="graf graf--p">
   运行该脚本应返回一些IP地址和一些与之相关的信息，包括 Shodan 索引的 HTTP 状态、位置和其他设备信息。该信息的格式与在Web界面中搜索时显示的数据非常相似。
  </p>
  <figure class="graf graf--figure">
   <img class="graf-image jetpack-lazy-image" data-height="650" data-image-id="0*nirSRMNUEVsZ9Gwc.jpg" data-lazy-src="https://i1.wp.com/cdn-images-1.medium.com/max/1067/0*nirSRMNUEVsZ9Gwc.jpg?w=1100&amp;is-pending-load=1#038;ssl=1" data-recalc-dims="1" data-width="649" src="https://i1.wp.com/cdn-images-1.medium.com/max/1067/0*nirSRMNUEVsZ9Gwc.jpg?w=1100&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
   <noscript>
    <img class="graf-image" data-height="650" data-image-id="0*nirSRMNUEVsZ9Gwc.jpg" data-recalc-dims="1" data-width="649" src="https://i1.wp.com/cdn-images-1.medium.com/max/1067/0*nirSRMNUEVsZ9Gwc.jpg?w=1100&amp;ssl=1"/>
   </noscript>
  </figure>
  <p class="graf graf--p">
   虽然这些附加信息可能允许其他脚本和工具处理其他标准，但如果希望自动收集和测试针对IP地址的攻击过程，那么此格式在很大程度上是不必要的。
  </p>
  <p class="graf graf--p">
   为了
   <strong class="markup--strong markup--p-strong">
    只返回IP地址
   </strong>
   ，您可以改变 Python 脚本的格式。首先可以从下面的行中删除
   <strong class="markup--strong markup--p-strong">
    IP:
   </strong>
   前缀。
  </p>
  <pre class="graf graf--pre"><code><span style="color: #ffcc00;">print</span> <span style="color: #ff6600;">'IP: %s'</span> % result<span style="color: #ff6600;">'ip_str'</span></code></pre>
  <p class="graf graf--p">
   看起来就像这行：
  </p>
  <pre class="graf graf--pre"><code><span style="color: #ffcc00;">print</span> <span style="color: #ff6600;">'%s'</span> % result<span style="color: #ff6600;">'ip_str'</span></code></pre>
  <p class="graf graf--p">
   还可以删除其前面的行和其后面的两行。
  </p>
  <pre class="graf graf--pre"><code class="markup--code markup--pre-code"><span style="color: #ffcc00;">print</span> <span style="color: #ff6600;">'Results found: %s'</span> % results<span style="color: #ff6600;">'total'</span>
<span style="color: #ffcc00;">print</span> result<span style="color: #ff6600;">'data'</span>
<span style="color: #ffcc00;">print</span> ''</code></pre>
  <p class="graf graf--p">
   该脚本现在应如下图所示。
  </p>
  <figure class="graf graf--figure">
   <img class="graf-image jetpack-lazy-image" data-height="481" data-image-id="0*_YcOPuGBnlVNTy2M.jpg" data-lazy-src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/0*_YcOPuGBnlVNTy2M.jpg?w=1100&amp;is-pending-load=1#038;ssl=1" data-recalc-dims="1" data-width="873" src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/0*_YcOPuGBnlVNTy2M.jpg?w=1100&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
   <noscript>
    <img class="graf-image" data-height="481" data-image-id="0*_YcOPuGBnlVNTy2M.jpg" data-recalc-dims="1" data-width="873" src="https://i2.wp.com/cdn-images-1.medium.com/max/1067/0*_YcOPuGBnlVNTy2M.jpg?w=1100&amp;ssl=1"/>
   </noscript>
  </figure>
  <p class="graf graf--p">
   运行这个脚本的时候它会返回一个IP地址列表，而没有其他不必要的内容。
  </p>
  <figure class="graf graf--figure">
   <img class="graf-image jetpack-lazy-image" data-height="479" data-image-id="0*NAx8McXh6JBvlDmm.jpg" data-lazy-src="https://i0.wp.com/cdn-images-1.medium.com/max/1067/0*NAx8McXh6JBvlDmm.jpg?w=1100&amp;is-pending-load=1#038;ssl=1" data-recalc-dims="1" data-width="876" src="https://i0.wp.com/cdn-images-1.medium.com/max/1067/0*NAx8McXh6JBvlDmm.jpg?w=1100&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
   <noscript>
    <img class="graf-image" data-height="479" data-image-id="0*NAx8McXh6JBvlDmm.jpg" data-recalc-dims="1" data-width="876" src="https://i0.wp.com/cdn-images-1.medium.com/max/1067/0*NAx8McXh6JBvlDmm.jpg?w=1100&amp;ssl=1"/>
   </noscript>
  </figure>
  <p class="graf graf--p">
   这个列表对于自动攻击来说是非常有用的，但是我们需要一个有效的方法来保存它。可以使用 shell 操作将输出直接发送到日志文件。在运行脚本时，请包含
   <strong class="markup--strong markup--p-strong">
    &gt;&gt;
   </strong>
   运算符，后跟您希望将输出发送到的文件的名称。
  </p>
  <pre class="graf graf--pre"><code>~$ python2 search.py &gt;&gt; log.txt</code></pre>
  <p class="graf graf--p">
   现在就有一个包含IP列表的文本文件，可以用它来测试各种攻击，这取决于您用来识别特定类型的易受攻击的系统的搜索术语。
  </p>
  <h3 class="graf graf--p">
   <strong class="markup--strong markup--p-strong">
    步骤4：使用 Shodan 结果自动执行任务
   </strong>
  </h3>
  <p class="graf graf--p">
   对于可以使用IP地址作为参数的命令行实用程序的示例，这里将使用
   <strong class="markup--strong markup--p-strong">
    ping
   </strong>
   。
  </p>
  <p class="graf graf--p">
   积极尝试攻击或利用 Shodan 发现的设备将是非法的和不负责任的，所以如果您实际上利用任何东西，请确保只运行您有权在目标上使用的工具。
  </p>
  <p class="graf graf--p">
   首先，我们将使用 nano 创建一个新的 shell 脚本，就像之前所做的那样。
  </p>
  <pre class="graf graf--pre"><code>~$ nano ping.sh</code></pre>
  <p class="graf graf--p">
   可以用 “crunchbang”（
   <strong class="markup--strong markup--p-strong">
    #!
   </strong>
   符号）和 shell 声明开始脚本。这表明它是一个 shell 脚本，由 bash shell 运行。
  </p>
  <pre class="graf graf--pre"><code>#!/bin/bash</code></pre>
  <p class="graf graf--p">
   接下来可以添加一条语句，以便可以对IP列表文件的每一行分别进行操作。
  </p>
  <pre class="graf graf--pre"><code class="markup--code markup--pre-code"><span style="color: #ffcc00;">cat</span> log.txt | <span style="color: #3366ff;">while</span> read line
<span style="color: #3366ff;">do</span>
<span style="color: #ffcc00;">ping</span> $line
<span style="color: #3366ff;">done</span></code></pre>
  <p class="graf graf--p">
   该脚本现在应该看起来像下面这样。
  </p>
  <figure class="graf graf--figure">
   <img class="graf-image jetpack-lazy-image" data-height="263" data-image-id="0*VFsPO3rgqotO6RYo.jpg" data-lazy-src="https://i0.wp.com/cdn-images-1.medium.com/max/1067/0*VFsPO3rgqotO6RYo.jpg?w=1100&amp;is-pending-load=1#038;ssl=1" data-recalc-dims="1" data-width="741" src="https://i0.wp.com/cdn-images-1.medium.com/max/1067/0*VFsPO3rgqotO6RYo.jpg?w=1100&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
   <noscript>
    <img class="graf-image" data-height="263" data-image-id="0*VFsPO3rgqotO6RYo.jpg" data-recalc-dims="1" data-width="741" src="https://i0.wp.com/cdn-images-1.medium.com/max/1067/0*VFsPO3rgqotO6RYo.jpg?w=1100&amp;ssl=1"/>
   </noscript>
  </figure>
  <p class="graf graf--p">
   现在可以用 Ctrl + O 保存这个脚本，然后用 Ctrl + X 再次退出 nano 。为了能够运行该脚本，需要通过使用
   <strong class="markup--strong markup--p-strong">
    chmod
   </strong>
   赋予它这个特权，将它标记为我们的操作系统的可执行文件。
  </p>
  <pre class="graf graf--pre"><code>~$ chmod +x ping.sh</code></pre>
  <p class="graf graf--p">
   现在可以从命令行运行该脚本了。
  </p>
  <pre class="graf graf--pre"><code>~$ ./ping.sh</code></pre>
  <p class="graf graf--p">
   脚本应该迭代地址中的每个IP，并向每个IP发送一个 ping。
  </p>
  <figure class="graf graf--figure">
   <img class="graf-image jetpack-lazy-image" data-height="326" data-image-id="0*Vg05p65cKDm6gmQ3.jpg" data-lazy-src="https://i0.wp.com/cdn-images-1.medium.com/max/1067/0*Vg05p65cKDm6gmQ3.jpg?w=1100&amp;is-pending-load=1#038;ssl=1" data-recalc-dims="1" data-width="909" src="https://i0.wp.com/cdn-images-1.medium.com/max/1067/0*Vg05p65cKDm6gmQ3.jpg?w=1100&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
   <noscript>
    <img class="graf-image" data-height="326" data-image-id="0*Vg05p65cKDm6gmQ3.jpg" data-recalc-dims="1" data-width="909" src="https://i0.wp.com/cdn-images-1.medium.com/max/1067/0*Vg05p65cKDm6gmQ3.jpg?w=1100&amp;ssl=1"/>
   </noscript>
  </figure>
  <p class="graf graf--p">
   如果有效，那意味着您现在已经成功检索 Shodan 结果，并单独处理它们了。Ping 不是一个攻击媒介，但只需进行一些细微的更改，攻击者就可以使用类似的脚本来达到恶意目的。
  </p>
  <h3 class="graf graf--p">
   <strong class="markup--strong markup--p-strong">
    步骤5：武器化攻击
   </strong>
  </h3>
  <p class="graf graf--p">
   原始的 Python 脚本经过一些小的调整就可用于更复杂的攻击或渗透测试。下面显示了 shell 脚本的 “while” 迭代的基本
   <strong class="markup--strong markup--p-strong">
    ping
   </strong>
   命令。
  </p>
  <pre class="graf graf--pre"><code><span style="color: #ffcc00;">ping</span> $line</code></pre>
  <p class="graf graf--p">
   该命令中的
   <strong class="markup--strong markup--p-strong">
    $line
   </strong>
   变量表示IP列表文件 log.txt 的每一行。可以用任何其他包含IP地址作为参数的字符串替换这个 ping 命令。可以使用
   <strong class="markup--strong markup--p-strong">
    nmap
   </strong>
   通过下面的命令端口扫描目标IP，使用
   <strong class="markup--strong markup--p-strong">
    -sS
   </strong>
   参数进行服务扫描。
  </p>
  <pre class="graf graf--pre"><code>nmap <span style="color: #ff6600;">-sS</span> $line</code></pre>
  <figure class="graf graf--figure">
   <img class="graf-image jetpack-lazy-image" data-height="267" data-image-id="0*ri1n8hKWx80QnaXL.jpg" data-lazy-src="https://i1.wp.com/cdn-images-1.medium.com/max/1067/0*ri1n8hKWx80QnaXL.jpg?w=1100&amp;is-pending-load=1#038;ssl=1" data-recalc-dims="1" data-width="787" src="https://i1.wp.com/cdn-images-1.medium.com/max/1067/0*ri1n8hKWx80QnaXL.jpg?w=1100&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
   <noscript>
    <img class="graf-image" data-height="267" data-image-id="0*ri1n8hKWx80QnaXL.jpg" data-recalc-dims="1" data-width="787" src="https://i1.wp.com/cdn-images-1.medium.com/max/1067/0*ri1n8hKWx80QnaXL.jpg?w=1100&amp;ssl=1"/>
   </noscript>
  </figure>
  <p class="graf graf--p">
   虽然每个连接互联网的设备都有多种方式可以被 Shodan 等扫描服务索引，但人们可以通过在
   <a class="markup--anchor markup--p-anchor" data-href="http://www.whatsmyip.org/" href="http://www.whatsmyip.org/" rel="noopener noreferrer" target="_blank">
    watsmyip.org
   </a>
   这样的网站上检查自己的外部IP、并在 Shodan 上搜索这个IP，来检查本地网络和路由器的安全性，看看有什么样的信息被暴露了。
  </p>
  <h3 class="graf graf--p">
   <strong class="markup--strong markup--p-strong">
    其他应用
   </strong>
  </h3>
  <p class="graf graf--p">
   这种格式可以扩展到几乎任何其他可以从命令行发起的攻击并包括一个IP。这种对多个目标的扫描和攻击是极其有效的方法，可以发现有漏洞的系统，而不必花时间单独手动查找和攻击。
  </p>
  <p class="graf graf--p">
   这种方法可以应用于各种不同的攻击，使用Shodan、Python、shell 脚本或其他工具，只要它们有能力找到设备并在没有用户输入的情况下攻击它们。⚪️
  </p>
  <p class="graf graf--p">
   <a class="markup--anchor markup--p-anchor" data-href="https://null-byte.wonderhowto.com/how-to/hacks-mr-robot-use-shodan-api-with-python-automate-scans-for-vulnerable-devices-0180975/" href="https://null-byte.wonderhowto.com/how-to/hacks-mr-robot-use-shodan-api-with-python-automate-scans-for-vulnerable-devices-0180975/" rel="noopener noreferrer" target="_blank">
    How to Use the Shodan API with Python to Automate Scans for Vulnerable Devices
   </a>
  </p>
  <div id="atatags-1611829871-5f638e674392b">
  </div>
  <div class="sharedaddy sd-sharing-enabled">
   <div class="robots-nocontent sd-block sd-social sd-social-icon sd-sharing">
    <h3 class="sd-title">
     共享此文章：
    </h3>
    <div class="sd-content">
     <ul>
      <li class="share-twitter">
       <a class="share-twitter sd-button share-icon no-text" data-shared="sharing-twitter-14443" href="https://www.iyouport.org/%e5%a6%82%e4%bd%95%e8%87%aa%e5%8a%a8%e6%89%ab%e6%8f%8f%e6%98%93%e5%8f%97%e6%94%bb%e5%87%bb%e7%9a%84%e8%ae%be%e5%a4%87%e2%80%8a-%e2%80%8a%e9%bb%91%e5%ae%a2%e4%b8%bb%e4%b9%89%e8%a1%8c%e5%8a%a8%e5%8a%9b/?share=twitter" rel="nofollow noopener noreferrer" target="_blank" title="点击以在 Twitter 上共享">
        <span>
        </span>
        <span class="sharing-screen-reader-text">
         点击以在 Twitter 上共享（在新窗口中打开）
        </span>
       </a>
      </li>
      <li class="share-facebook">
       <a class="share-facebook sd-button share-icon no-text" data-shared="sharing-facebook-14443" href="https://www.iyouport.org/%e5%a6%82%e4%bd%95%e8%87%aa%e5%8a%a8%e6%89%ab%e6%8f%8f%e6%98%93%e5%8f%97%e6%94%bb%e5%87%bb%e7%9a%84%e8%ae%be%e5%a4%87%e2%80%8a-%e2%80%8a%e9%bb%91%e5%ae%a2%e4%b8%bb%e4%b9%89%e8%a1%8c%e5%8a%a8%e5%8a%9b/?share=facebook" rel="nofollow noopener noreferrer" target="_blank" title="点击以在 Facebook 上共享">
        <span>
        </span>
        <span class="sharing-screen-reader-text">
         点击以在 Facebook 上共享（在新窗口中打开）
        </span>
       </a>
      </li>
      <li class="share-end">
      </li>
     </ul>
    </div>
   </div>
  </div>
  <div class="sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded" data-name="like-post-frame-161182987-14443-5f638e6744354" data-src="https://widgets.wp.com/likes/#blog_id=161182987&amp;post_id=14443&amp;origin=www.iyouport.org&amp;obj_id=161182987-14443-5f638e6744354" id="like-post-wrapper-161182987-14443-5f638e6744354">
   <h3 class="sd-title">
    赞过：
   </h3>
   <div class="likes-widget-placeholder post-likes-widget-placeholder" style="height: 55px;">
    <span class="button">
     <span>
      赞
     </span>
    </span>
    <span class="loading">
     正在加载……
    </span>
   </div>
   <span class="sd-text-color">
   </span>
   <a class="sd-link-color">
   </a>
  </div>
  <div class="jp-relatedposts" id="jp-relatedposts">
   <h3 class="jp-relatedposts-headline">
    <em>
     相关
    </em>
   </h3>
  </div>
 </div>
 <div class="entry-footer">
  <ul class="post-tags light-text">
   <li>
    Tagged
   </li>
   <li>
    <a href="https://www.iyouport.org/tag/cyberattack/" rel="tag">
     Cyberattack
    </a>
   </li>
   <li>
    <a href="https://www.iyouport.org/tag/hacktivist/" rel="tag">
     hacktivist
    </a>
   </li>
   <li>
    <a href="https://www.iyouport.org/tag/iot/" rel="tag">
     IoT
    </a>
   </li>
   <li>
    <a href="https://www.iyouport.org/tag/security/" rel="tag">
     Security
    </a>
   </li>
   <li>
    <a href="https://www.iyouport.org/tag/shodan/" rel="tag">
     Shodan
    </a>
   </li>
   <li>
    <a href="https://www.iyouport.org/tag/technique/" rel="tag">
     technique
    </a>
   </li>
   <li>
    <a href="https://www.iyouport.org/tag/technology/" rel="tag">
     Technology
    </a>
   </li>
   <li>
    <a href="https://www.iyouport.org/tag/tools/" rel="tag">
     tools
    </a>
   </li>
  </ul>
 </div>
 <div class="entry-author-wrapper">
  <div class="site-posted-on">
   <strong>
    Published
   </strong>
   <time class="entry-date published" datetime="2020-09-17T00:04:28+08:00">
    2020年9月17日
   </time>
   <time class="updated" datetime="2020-09-17T00:04:06+08:00">
    2020年9月17日
   </time>
  </div>
 </div>
</article>

